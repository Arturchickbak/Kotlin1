fun groupAnagrams(words: Array<String>): List<List<String>> {
    val groups = mutableMapOf<String, MutableList<String>>()

    for (word in words) {
        val sortedChars = word.toCharArray().sorted().joinToString("")

        if (groups.containsKey(sortedChars)) {
            groups[sortedChars]?.add(word)
        } else {
            groups[sortedChars] = mutableListOf(word)
        }
    }

    return groups.values.toList()
}

fun main() {
    print("Введите элементы массива через пробел: ")
    val input = readLine()?.trim()
    val words = input?.split(" ")?.toTypedArray()

    if (words == null) {
        println("Неверные входные данные")
        return
    }

    val groupedWords = groupAnagrams(words)
    println("Группы слов:")
    for (group in groupedWords) {
        println(group.joinToString(", "))
    }
}
