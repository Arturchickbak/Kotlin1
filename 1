fun countConsecutiveCharacters(input: String): String {
    if (input.isEmpty()) {
        return ""
    }
    
    val result = StringBuilder()
    var count = 1
    var prevChar = input[0]
    
    for (i in 1 until input.length) {
        val currentChar = input[i]
        
        if (currentChar == prevChar) {
            count++
        } else {
            result.append(prevChar)
            if (count > 1) {
                result.append(count)
            }
            count = 1
            prevChar = currentChar
        }
    }
    
    result.append(prevChar)
    if (count > 1) {
        result.append(count)
    }
    
    return result.toString()
}

fun main() {
    val input = "AAADSSSRRTTHAAAA"
    val result = countConsecutiveCharacters(input)
    println(result)  // Output: A3DS3R2T2HA4
}
